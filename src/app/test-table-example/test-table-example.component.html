<app-layout>
  <app-generic-table [data]='users' [totalElements]="records" [pageSize]="pageSize" [pagingType]="pagingType" [fixedFirstCol]="true"
    (pageChange)="pageChanged($event)" (sorting)="serverHandledSorting($event)"
    (filtering)="serverHendledFiltering($event)">
    <app-dg-column [field]="'name'" header="First Name" [width]="90" [minWidth]="80" [sortable]="true" [textAlign]="'left'"
      [dataType]="FilterDataType.TEXT" [filterOptOn]="true"></app-dg-column>
    <app-dg-column [field]="'surname'" header="Last Name" [width]="120" [sortable]="true" [textAlign]="'right'"
      [dataType]="FilterDataType.TEXT" [filterOptOn]="true"></app-dg-column>
    <app-dg-column [field]="'age'" header="Age"  [width]="70" [minWidth]="25" [sortable]="true" [textAlign]="'left'"
      [dataType]="FilterDataType.NUMBER" [filterOptOn]="true"></app-dg-column>
    <app-dg-column [field]="'salary'" header="Salary"  [width]="60" [sortable]="true" [textAlign]="'right'"
      [dataType]="FilterDataType.NUMBER" [filterOptOn]="true"></app-dg-column>
    <app-dg-column [header]="'Information'" [width]="200">
      <ng-template [appTableRow]="users" [template]="ColumnTemplate.BODY" let-rowData>
        <div class="info">
          <p>Employe Age {{rowData.age}}</p>
          <div>
          </div>
        </div>
      </ng-template>
    </app-dg-column>
    <app-dg-column [header]="'Action'" [width]="70">
      <ng-template [appTableRow]="users" [template]="ColumnTemplate.BODY" let-rowData let-ri="rowIndex">
        <div class="info" *ngIf="switch[ri]">
          <p>Position {{rowData.position}}</p>
          <div>
            <img src="{{rtnImageSrc(rowData.name)}}" alt="employee-image" (click)="seePosition(rowData)">
          </div>
        </div>
        <div class="btn-continer" *ngIf="!switch[ri]">
          <button class="test" (click)="seePosition(rowData)">
            See Position
          </button>
        </div>
      </ng-template>
    </app-dg-column>
    <app-dg-column [header]="'Years in Company'" [width]="70">
      <ng-template [appTableRow]="users" [template]="ColumnTemplate.BODY" let-rowData>
        <div class="btn-continer">
          <div>{{calculateDate(rowData.startDate, rowData.toDate) | number:'1.1-1'}} </div>
        </div>
      </ng-template>
    </app-dg-column>
    <app-dg-column [header]="'Start Date'" [width]="90">
      <ng-template [appTableRow]="users" [template]="ColumnTemplate.BODY" let-rowData>
        <div class="btn-continer">
          <div>{{rowData.startDate | date}} </div>
        </div>
      </ng-template>
    </app-dg-column>
    <app-dg-column [header]="'End Date'" [width]="90">
      <ng-template [appTableRow]="users" [template]="ColumnTemplate.BODY" let-rowData>
        <div class="btn-continer">
          <div>{{rowData.toDate | date}} </div>
        </div>
      </ng-template>
    </app-dg-column>
  </app-generic-table>
</app-layout>
